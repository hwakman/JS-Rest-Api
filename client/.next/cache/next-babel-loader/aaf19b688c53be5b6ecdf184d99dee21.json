{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/code/pages/index.js\",\n    _this3 = this;\n\nvar __jsx = React.createElement;\nimport React, { Component, useRef } from 'react';\nimport { GetAll, AddOne, TableColumn, TmpDel } from './component/dbComponent';\nimport Link from 'next/link';\nimport Axios from 'axios';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n\n    _defineProperty(_assertThisInitialized(_this), \"setValue\",\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(data) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return AddOne(\"employee\", data);\n\n              case 3:\n                _context.next = 5;\n                return alert(\"member name \\\"\".concat(data.name, \"\\\" has added.\"));\n\n              case 5:\n                _context.next = 7;\n                return Axios.get('http://localhost:8080/').then(function (res) {\n                  _this.setState({\n                    indexData: res.data\n                  });\n                })[\"catch\"](function (err) {\n                  console.log(err);\n                });\n\n              case 7:\n                _context.next = 12;\n                break;\n\n              case 9:\n                _context.prev = 9;\n                _context.t0 = _context[\"catch\"](0);\n                alert(_context.t0);\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 9]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n\n    _defineProperty(_assertThisInitialized(_this), \"delValue\",\n    /*#__PURE__*/\n    function () {\n      var _ref2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(table, target) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.prev = 0;\n                _context2.next = 3;\n                return TmpDel(table, target);\n\n              case 3:\n                _context2.next = 5;\n                return alert(\"Wating for approve.\");\n\n              case 5:\n                _context2.next = 7;\n                return Axios.get('http://localhost:8080/').then(function (res) {\n                  _this.setState({\n                    indexData: res.data\n                  });\n                })[\"catch\"](function (err) {\n                  console.log(err);\n                });\n\n              case 7:\n                _context2.next = 12;\n                break;\n\n              case 9:\n                _context2.prev = 9;\n                _context2.t0 = _context2[\"catch\"](0);\n                alert(_context2.t0);\n\n              case 12:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, null, [[0, 9]]);\n      }));\n\n      return function (_x2, _x3) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n\n    _this.state = {\n      indexData: []\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      Axios.get('http://localhost:8080/').then(function (res) {\n        _this2.setState({\n          indexData: res.data\n        });\n\n        console.log(res.data);\n      })[\"catch\"](function (err) {\n        console.log(err);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, __jsx(\"nav\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, __jsx(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, __jsx(Link, {\n        href: \"/index\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, \"home\"))), __jsx(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, __jsx(Link, {\n        href: \"/list\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \"list\"))), __jsx(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, __jsx(Link, {\n        href: \"/requestlist\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, \"request list\")))), __jsx(InputForm, {\n        value: this.setValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }), __jsx(TableComp, {\n        data: this.state.indexData,\n        delValue: this.delValue,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport { App as default };\n\nvar TableComp = function TableComp(props) {\n  return __jsx(\"table\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, __jsx(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, __jsx(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, __jsx(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"no.\"), __jsx(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, \"role\"), __jsx(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"name\"), __jsx(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"status\"), __jsx(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"action\"))), __jsx(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, props.data.map(function (res, index) {\n    return __jsx(\"tr\", {\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, __jsx(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, index), __jsx(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, res.dep_name), __jsx(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, res.name), __jsx(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, res.target_id ? __jsx(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, \"Request To Remove\") : \"available\"), __jsx(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, res.target_id ? __jsx(\"button\", {\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"delete\") : __jsx(\"button\", {\n      onClick: props.delValue.bind(_this3, \"employee\", res.id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"delete\")));\n  })));\n};\n\nvar InputForm = function InputForm(props) {\n  var roleRef = new useRef(null);\n  var nameRef = new useRef(null);\n\n  var collectVal =\n  /*#__PURE__*/\n  function () {\n    var _ref3 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3() {\n      var dep_no, name;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              dep_no = roleRef.current.value;\n              name = nameRef.current.value;\n\n              if (!name) {\n                _context3.next = 6;\n                break;\n              }\n\n              _context3.next = 5;\n              return props.value({\n                name: name,\n                dep_no: dep_no\n              });\n\n            case 5:\n              nameRef.current.value = '';\n\n            case 6:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function collectVal() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    ref: nameRef,\n    type: \"text\",\n    placeholder: \"name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }), __jsx(\"select\", {\n    ref: roleRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, __jsx(\"option\", {\n    value: \"1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, \"Manager\"), __jsx(\"option\", {\n    value: \"2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, \"Helpdesk\")), __jsx(\"input\", {\n    type: \"submit\",\n    onClick: collectVal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }), \" \", __jsx(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }));\n};","map":{"version":3,"sources":["/code/pages/index.js"],"names":["React","Component","useRef","GetAll","AddOne","TableColumn","TmpDel","Link","Axios","App","data","alert","name","get","then","res","setState","indexData","err","console","log","table","target","state","setValue","delValue","TableComp","props","map","index","dep_name","target_id","bind","id","InputForm","roleRef","nameRef","collectVal","dep_no","current","value"],"mappings":"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","sourcesContent":["import React, { Component, useRef } from 'react';\nimport { GetAll, AddOne, TableColumn, TmpDel } from './component/dbComponent';\nimport Link from 'next/link';\nimport Axios from 'axios';\n\nexport default class App extends Component {\n    constructor(){\n        super();\n        this.state = {\n            indexData: []\n        }\n    }\n\n    componentDidMount() {\n        Axios.get('http://localhost:8080/').then(res => {this.setState({indexData:res.data});console.log(res.data);}\n        ).catch(err => {console.log(err);});\n    }\n\n    setValue = async (data) => {\n        try {\n            await AddOne(`employee`,data);\n            await alert(`member name \"${data.name}\" has added.`);\n            await Axios.get('http://localhost:8080/').then(res => {this.setState({indexData:res.data});}\n            ).catch(err => {console.log(err);});\n        }catch (err){\n            alert(err);\n        }\n    }\n\n    delValue = async (table,target) => {\n        try {\n            await TmpDel(table,target);\n            await alert(`Wating for approve.`);\n            await Axios.get('http://localhost:8080/').then(res => {this.setState({indexData:res.data});}\n            ).catch(err => {console.log(err);});\n        } catch (err){\n            alert(err);\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                <nav>\n                    <li><Link href=\"/index\"><a>home</a></Link></li>\n                    <li><Link href=\"/list\"><a>list</a></Link></li>\n                    <li><Link href=\"/requestlist\"><a>request list</a></Link></li>\n                </nav>\n                <InputForm value={this.setValue}/>\n                <TableComp data={this.state.indexData} delValue={this.delValue} />\n            </div>\n        );\n    }\n}\n\nconst TableComp = props => {\n    return (\n        <table>\n            <thead>\n                <tr>\n                    <th>no.</th>\n                    <th>role</th>\n                    <th>name</th>\n                    <th>status</th>\n                    <th>action</th>\n                </tr>\n            </thead>\n            <tbody>\n            {props.data.map(\n                (res,index) => <tr key={index}>\n                    <td>{index}</td>\n                    <td>{res.dep_name}</td>\n                    <td>{res.name}</td>\n                    <td>{res.target_id ? <b>Request To Remove</b>:`available`}</td>\n                    <td>\n                        {\n                            res.target_id ?\n                            <button disabled>delete</button>:\n                            <button onClick={props.delValue.bind(this,`employee`,res.id)}>delete</button>\n                        }\n                    </td>\n                </tr>\n            )}\n            </tbody>\n        </table>\n    );\n}\n\nconst InputForm = props => {\n    const roleRef           = new useRef(null);\n    const nameRef           = new useRef(null);\n\n    const collectVal = async () => {\n        const dep_no    = roleRef.current.value;\n        const name      = nameRef.current.value;\n        if(name){\n            await props.value({name,dep_no});\n            nameRef.current.value = '';\n        }\n    } \n\n    return (\n        <div>\n            <input ref={nameRef} type={`text`} placeholder={`name`} />\n            <select ref={roleRef}>\n                <option value=\"1\">Manager</option>\n                <option value=\"2\">Helpdesk</option>\n            </select>\n            <input type={`submit`} onClick={collectVal} /> <br />\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}